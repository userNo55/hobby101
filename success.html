<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>‚úÖ –û–ø–ª–∞—Ç–∞ —É—Å–ø–µ—à–Ω–∞ | –•–æ–±–±–∏ 101</title>
    <style>
        /* –ü–∏–∫—Å–µ–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –∫–∞–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ */
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
        
        body {
            font-family: 'Press Start 2P', 'Courier New', monospace;
            background-color: #FFF0F3;
            color: #590D22;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
            margin: 0;
            /* –ü–∏–∫—Å–µ–ª—å–Ω—ã–π —Ñ–æ–Ω */
            background-image: 
                linear-gradient(#FFC8DD 1px, transparent 1px),
                linear-gradient(90deg, #FFC8DD 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        .container {
            max-width: 480px;
            width: 100%;
            background-color: #FFFFFF;
            border: 6px solid #590D22;
            border-radius: 16px;
            padding: 32px 24px;
            box-shadow: 12px 12px 0 #590D22;
            position: relative;
        }
        
        /* –ü–∏–∫—Å–µ–ª—å–Ω—ã–π —É–≥–æ–ª–æ–∫ */
        .container::after {
            content: '';
            position: absolute;
            bottom: -12px;
            right: -12px;
            width: 24px;
            height: 24px;
            background-color: #FFC8DD;
            border: 3px solid #590D22;
            transform: rotate(45deg);
        }
        
        .success-icon {
            font-size: 64px;
            text-align: center;
            margin-bottom: 16px;
            animation: bounce 0.5s ease;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        h1 {
            font-family: 'Press Start 2P', monospace;
            font-size: 18px;
            color: #590D22;
            text-align: center;
            margin-bottom: 20px;
            line-height: 1.5;
            text-transform: uppercase;
            word-break: break-word;
        }
        
        .pixel-border {
            border: 4px solid #FFAFCC;
            padding: 20px;
            margin: 24px 0;
            background-color: #FFF0F3;
            position: relative;
        }
        
        .pixel-border::before {
            content: '';
            position: absolute;
            top: -8px;
            left: -8px;
            right: -8px;
            bottom: -8px;
            border: 2px dashed #590D22;
            pointer-events: none;
        }
        
        .benefit-list {
            list-style: none;
        }
        
        .benefit-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            font-size: 12px;
            color: #590D22;
        }
        
        .benefit-item span:first-child {
            font-size: 16px;
        }
        
        .payment-details {
            background-color: #FFC8DD;
            border: 4px solid #590D22;
            padding: 16px;
            margin: 24px 0;
            font-size: 12px;
        }
        
        .payment-details p {
            margin: 8px 0;
            word-break: break-all;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 16px 20px;
            background-color: #FF595E;
            border: 4px solid #590D22;
            color: white;
            font-family: 'Press Start 2P', monospace;
            font-size: 14px;
            text-align: center;
            text-decoration: none;
            text-transform: uppercase;
            cursor: pointer;
            margin: 16px 0;
            transition: all 0.1s ease;
            box-shadow: 6px 6px 0 #590D22;
            letter-spacing: 2px;
        }
        
        .btn:active {
            transform: translate(4px, 4px);
            box-shadow: 2px 2px 0 #590D22;
        }
        
        .btn.secondary {
            background-color: #CDB4DB;
            color: #590D22;
            font-size: 12px;
        }
        
        .store-link {
            color: #590D22;
            text-decoration: none;
            border-bottom: 2px dashed #590D22;
            padding-bottom: 2px;
        }
        
        .auto-open-message {
            background-color: #A2D2FF;
            border: 4px solid #590D22;
            padding: 16px;
            margin: 20px 0;
            font-size: 12px;
            color: #590D22;
            text-align: center;
        }
        
        .hidden {
            display: none;
        }
        
        .footer-text {
            font-size: 10px;
            color: #590D22;
            text-align: center;
            margin-top: 24px;
            opacity: 0.8;
        }
        
        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 380px) {
            .container {
                padding: 20px 16px;
            }
            
            h1 {
                font-size: 16px;
            }
            
            .btn {
                font-size: 12px;
                padding: 14px 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="success-icon">‚úÖ</div>
        
        <h1>–û–ü–õ–ê–¢–ê –£–°–ü–ï–®–ù–ê! üéÆ</h1>
        
        <div class="pixel-border">
            <ul class="benefit-list">
                <li class="benefit-item">
                    <span>üéØ</span>
                    <span>–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞–≤—Å–µ–≥–¥–∞</span>
                </li>
                <li class="benefit-item">
                    <span>üì±</span>
                    <span>–†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞</span>
                </li>
                <li class="benefit-item">
                    <span>üÜï</span>
                    <span>–ù–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
                </li>
            </ul>
        </div>
        
        <div class="payment-details">
            <p style="margin-bottom: 8px;"><strong>üßæ ID –ø–ª–∞—Ç–µ–∂–∞:</strong></p>
            <p style="background: white; padding: 8px; border: 2px solid #590D22;" id="paymentIdDisplay">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
        
        <div id="autoOpenMessage" class="auto-open-message">
            ‚è≥ –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ...
        </div>
        
        <button id="openAppBtn" class="btn hidden" onclick="openApp()">
            üì≤ –û–¢–ö–†–´–¢–¨ –ü–†–ò–õ–û–ñ–ï–ù–ò–ï
        </button>
        
        <button id="copyLinkBtn" class="btn secondary" onclick="copyDeepLink()">
            üìã –ö–û–ü–ò–†–û–í–ê–¢–¨ –°–°–´–õ–ö–£
        </button>
        
        <p style="font-size: 11px; margin: 16px 0 8px; color: #590D22;">
            ‚ö° –ù–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏?
        </p>
        
        <p style="font-size: 11px; line-height: 1.8; color: #590D22;">
            ‚Ä¢ –ù–∞ Android: —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ<br>
            ‚Ä¢ –ù–∞ iOS: –Ω–∞–∂–º–∏—Ç–µ "–û—Ç–∫—Ä—ã—Ç—å" –≤ Safari<br>
            ‚Ä¢ –ò–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –∫–Ω–æ–ø–∫–æ–π –≤—ã—à–µ
        </p>
        
        <div style="margin-top: 24px; padding-top: 16px; border-top: 2px dashed #FFC8DD;">
            <p style="font-size: 10px; color: #590D22;">
                üîó –°—Å—ã–ª–∫–∞ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞:
            </p>
            <p id="deeplinkDisplay" style="font-size: 9px; word-break: break-all; background: #FFF0F3; padding: 8px; margin-top: 8px; border: 2px solid #FFC8DD;">
                hobby101://...
            </p>
        </div>
        
        <p class="footer-text">
            üéÆ –•–æ–±–±–∏ 101 ‚Äî –û—Å–≤–æ–π –≤—Å—ë!
        </p>
    </div>
    
    <script>
        // –ò–∑–≤–ª–µ–∫–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ URL
        const urlParams = new URLSearchParams(window.location.search);
        const paymentId = urlParams.get('paymentId') || urlParams.get('payment_id') || 'unknown';
        const userId = urlParams.get('userId') || 'unknown';
        
        // Deeplink
        const appDeepLink = `hobby101://home?payment=success&userId=${encodeURIComponent(userId)}&paymentId=${encodeURIComponent(paymentId)}`;
        const fallbackStoreLink = 'https://expo.dev/...'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –º–∞–≥–∞–∑–∏–Ω
        
        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º ID –ø–ª–∞—Ç–µ–∂–∞
        document.getElementById('paymentIdDisplay').textContent = paymentId;
        
        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º deeplink
        document.getElementById('deeplinkDisplay').textContent = appDeepLink;
        
        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        function openApp() {
            console.log('üîó –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–∫—Ä—ã—Ç—å:', appDeepLink);
            
            // –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            window.location.href = appDeepLink;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" —á–µ—Ä–µ–∑ 2.5 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(function() {
                const btn = document.getElementById('openAppBtn');
                const msg = document.getElementById('autoOpenMessage');
                
                btn.classList.remove('hidden');
                msg.innerHTML = '‚åõ –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏? –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ';
                msg.style.backgroundColor = '#FFB3B3';
            }, 2500);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è deeplink
        function copyDeepLink() {
            navigator.clipboard.writeText(appDeepLink).then(function() {
                const btn = document.getElementById('copyLinkBtn');
                const originalText = btn.textContent;
                btn.textContent = '‚úÖ –°–ö–û–ü–ò–†–û–í–ê–ù–û!';
                setTimeout(function() {
                    btn.textContent = originalText;
                }, 2000);
            }).catch(function(err) {
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É. –í–æ—Ç –æ–Ω–∞:\n' + appDeepLink);
            });
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–±—É–µ–º –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        window.onload = function() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º ID –ø–ª–∞—Ç–µ–∂–∞
            console.log('‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
            console.log('üì¶ Payment ID:', paymentId);
            console.log('üë§ User ID:', userId);
            console.log('üîó Deeplink:', appDeepLink);
            
            // –ü—Ä–æ–±—É–µ–º –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 0.5 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(openApp, 500);
        };
    </script>
</body>
</html>